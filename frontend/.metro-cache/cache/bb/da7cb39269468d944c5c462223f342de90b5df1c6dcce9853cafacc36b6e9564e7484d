{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":31,"index":180}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _utilsApi = require(_dependencyMap[2], \"../utils/api\");\n  var api = _interopDefault(_utilsApi);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      checkAuth();\n    }, []);\n    const checkAuth = async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('token');\n        const userData = await AsyncStorage.default.getItem('user');\n        if (token && userData) {\n          setUser(JSON.parse(userData));\n        }\n      } catch (error) {\n        console.error('Error checking auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await api.default.post('/auth/login', {\n          email,\n          password\n        });\n        const userData = response.data;\n        await AsyncStorage.default.setItem('token', userData.token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const register = async (email, password, name) => {\n      try {\n        const response = await api.default.post('/auth/register', {\n          email,\n          password,\n          name\n        });\n        const userData = response.data;\n        await AsyncStorage.default.setItem('token', userData.token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('token');\n      await AsyncStorage.default.removeItem('user');\n      setUser(null);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        login,\n        register,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":109,"map":[[13,2,16,0,"Object"],[13,8,16,0],[13,9,16,0,"defineProperty"],[13,23,16,0],[13,24,16,0,"exports"],[13,31,16,0],[14,4,16,0,"enumerable"],[14,14,16,0],[15,4,16,0,"get"],[15,7,16,0],[15,18,16,0,"get"],[15,19,16,0],[16,6,16,0],[16,13,16,0,"AuthProvider"],[16,25,16,0],[17,4,16,0],[18,2,16,0],[19,2,78,0,"Object"],[19,8,78,0],[19,9,78,0,"defineProperty"],[19,23,78,0],[19,24,78,0,"exports"],[19,31,78,0],[20,4,78,0,"enumerable"],[20,14,78,0],[21,4,78,0,"get"],[21,7,78,0],[21,18,78,0,"get"],[21,19,78,0],[22,6,78,0],[22,13,78,0,"useAuth"],[22,20,78,0],[23,4,78,0],[24,2,78,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,3,0],[28,6,3,0,"_utilsApi"],[28,15,3,0],[28,18,3,0,"require"],[28,25,3,0],[28,26,3,0,"_dependencyMap"],[28,40,3,0],[29,2,3,0],[29,6,3,0,"api"],[29,9,3,0],[29,12,3,0,"_interopDefault"],[29,27,3,0],[29,28,3,0,"_utilsApi"],[29,37,3,0],[30,2,3,31],[30,6,3,31,"_reactJsxDevRuntime"],[30,25,3,31],[30,28,3,31,"require"],[30,35,3,31],[30,36,3,31,"_dependencyMap"],[30,50,3,31],[31,2,14,0],[31,8,14,6,"AuthContext"],[31,19,14,17],[31,35,14,20],[31,39,14,20,"createContext"],[31,45,14,33],[31,46,14,33,"createContext"],[31,59,14,33],[31,61,14,63,"undefined"],[31,70,14,72],[31,71,14,73],[32,2,16,7],[32,8,16,13,"AuthProvider"],[32,20,16,66],[32,23,16,69,"AuthProvider"],[32,24,16,70],[33,4,16,72,"children"],[34,2,16,81],[34,3,16,82],[34,8,16,87],[35,4,17,2],[35,10,17,8],[35,11,17,9,"user"],[35,15,17,13],[35,17,17,15,"setUser"],[35,24,17,22],[35,25,17,23],[35,28,17,26],[35,32,17,26,"useState"],[35,38,17,34],[35,39,17,34,"useState"],[35,47,17,34],[35,49,17,48],[35,53,17,52],[35,54,17,53],[36,4,18,2],[36,10,18,8],[36,11,18,9,"loading"],[36,18,18,16],[36,20,18,18,"setLoading"],[36,30,18,28],[36,31,18,29],[36,34,18,32],[36,38,18,32,"useState"],[36,44,18,40],[36,45,18,40,"useState"],[36,53,18,40],[36,55,18,41],[36,59,18,45],[36,60,18,46],[37,4,20,2],[37,8,20,2,"useEffect"],[37,14,20,11],[37,15,20,11,"useEffect"],[37,24,20,11],[37,26,20,12],[37,32,20,18],[38,6,21,4,"checkAuth"],[38,15,21,13],[38,16,21,14],[38,17,21,15],[39,4,22,2],[39,5,22,3],[39,7,22,5],[39,9,22,7],[39,10,22,8],[40,4,24,2],[40,10,24,8,"checkAuth"],[40,19,24,17],[40,22,24,20],[40,28,24,20,"checkAuth"],[40,29,24,20],[40,34,24,32],[41,6,25,4],[41,10,25,8],[42,8,26,6],[42,14,26,12,"token"],[42,19,26,17],[42,22,26,20],[42,28,26,26,"AsyncStorage"],[42,40,26,38],[42,41,26,38,"default"],[42,48,26,38],[42,49,26,39,"getItem"],[42,56,26,46],[42,57,26,47],[42,64,26,54],[42,65,26,55],[43,8,27,6],[43,14,27,12,"userData"],[43,22,27,20],[43,25,27,23],[43,31,27,29,"AsyncStorage"],[43,43,27,41],[43,44,27,41,"default"],[43,51,27,41],[43,52,27,42,"getItem"],[43,59,27,49],[43,60,27,50],[43,66,27,56],[43,67,27,57],[44,8,29,6],[44,12,29,10,"token"],[44,17,29,15],[44,21,29,19,"userData"],[44,29,29,27],[44,31,29,29],[45,10,30,8,"setUser"],[45,17,30,15],[45,18,30,16,"JSON"],[45,22,30,20],[45,23,30,21,"parse"],[45,28,30,26],[45,29,30,27,"userData"],[45,37,30,35],[45,38,30,36],[45,39,30,37],[46,8,31,6],[47,6,32,4],[47,7,32,5],[47,8,32,6],[47,15,32,13,"error"],[47,20,32,18],[47,22,32,20],[48,8,33,6,"console"],[48,15,33,13],[48,16,33,14,"error"],[48,21,33,19],[48,22,33,20],[48,44,33,42],[48,46,33,44,"error"],[48,51,33,49],[48,52,33,50],[49,6,34,4],[49,7,34,5],[49,16,34,14],[50,8,35,6,"setLoading"],[50,18,35,16],[50,19,35,17],[50,24,35,22],[50,25,35,23],[51,6,36,4],[52,4,37,2],[52,5,37,3],[53,4,39,2],[53,10,39,8,"login"],[53,15,39,13],[53,18,39,16],[53,24,39,16,"login"],[53,25,39,23,"email"],[53,30,39,36],[53,32,39,38,"password"],[53,40,39,54],[53,45,39,59],[54,6,40,4],[54,10,40,8],[55,8,41,6],[55,14,41,12,"response"],[55,22,41,20],[55,25,41,23],[55,31,41,29,"api"],[55,34,41,32],[55,35,41,32,"default"],[55,42,41,32],[55,43,41,33,"post"],[55,47,41,37],[55,48,41,38],[55,61,41,51],[55,63,41,53],[56,10,41,55,"email"],[56,15,41,60],[57,10,41,62,"password"],[58,8,41,71],[58,9,41,72],[58,10,41,73],[59,8,42,6],[59,14,42,12,"userData"],[59,22,42,20],[59,25,42,23,"response"],[59,33,42,31],[59,34,42,32,"data"],[59,38,42,36],[60,8,44,6],[60,14,44,12,"AsyncStorage"],[60,26,44,24],[60,27,44,24,"default"],[60,34,44,24],[60,35,44,25,"setItem"],[60,42,44,32],[60,43,44,33],[60,50,44,40],[60,52,44,42,"userData"],[60,60,44,50],[60,61,44,51,"token"],[60,66,44,56],[60,67,44,57],[61,8,45,6],[61,14,45,12,"AsyncStorage"],[61,26,45,24],[61,27,45,24,"default"],[61,34,45,24],[61,35,45,25,"setItem"],[61,42,45,32],[61,43,45,33],[61,49,45,39],[61,51,45,41,"JSON"],[61,55,45,45],[61,56,45,46,"stringify"],[61,65,45,55],[61,66,45,56,"userData"],[61,74,45,64],[61,75,45,65],[61,76,45,66],[62,8,46,6,"setUser"],[62,15,46,13],[62,16,46,14,"userData"],[62,24,46,22],[62,25,46,23],[63,6,47,4],[63,7,47,5],[63,8,47,6],[63,15,47,13,"error"],[63,20,47,23],[63,22,47,25],[64,8,48,6],[64,14,48,12],[64,18,48,16,"Error"],[64,23,48,21],[64,24,48,22,"error"],[64,29,48,27],[64,30,48,28,"response"],[64,38,48,36],[64,40,48,38,"data"],[64,44,48,42],[64,46,48,44,"detail"],[64,52,48,50],[64,56,48,54],[64,70,48,68],[64,71,48,69],[65,6,49,4],[66,4,50,2],[66,5,50,3],[67,4,52,2],[67,10,52,8,"register"],[67,18,52,16],[67,21,52,19],[67,27,52,19,"register"],[67,28,52,26,"email"],[67,33,52,39],[67,35,52,41,"password"],[67,43,52,57],[67,45,52,59,"name"],[67,49,52,71],[67,54,52,76],[68,6,53,4],[68,10,53,8],[69,8,54,6],[69,14,54,12,"response"],[69,22,54,20],[69,25,54,23],[69,31,54,29,"api"],[69,34,54,32],[69,35,54,32,"default"],[69,42,54,32],[69,43,54,33,"post"],[69,47,54,37],[69,48,54,38],[69,64,54,54],[69,66,54,56],[70,10,54,58,"email"],[70,15,54,63],[71,10,54,65,"password"],[71,18,54,73],[72,10,54,75,"name"],[73,8,54,80],[73,9,54,81],[73,10,54,82],[74,8,55,6],[74,14,55,12,"userData"],[74,22,55,20],[74,25,55,23,"response"],[74,33,55,31],[74,34,55,32,"data"],[74,38,55,36],[75,8,57,6],[75,14,57,12,"AsyncStorage"],[75,26,57,24],[75,27,57,24,"default"],[75,34,57,24],[75,35,57,25,"setItem"],[75,42,57,32],[75,43,57,33],[75,50,57,40],[75,52,57,42,"userData"],[75,60,57,50],[75,61,57,51,"token"],[75,66,57,56],[75,67,57,57],[76,8,58,6],[76,14,58,12,"AsyncStorage"],[76,26,58,24],[76,27,58,24,"default"],[76,34,58,24],[76,35,58,25,"setItem"],[76,42,58,32],[76,43,58,33],[76,49,58,39],[76,51,58,41,"JSON"],[76,55,58,45],[76,56,58,46,"stringify"],[76,65,58,55],[76,66,58,56,"userData"],[76,74,58,64],[76,75,58,65],[76,76,58,66],[77,8,59,6,"setUser"],[77,15,59,13],[77,16,59,14,"userData"],[77,24,59,22],[77,25,59,23],[78,6,60,4],[78,7,60,5],[78,8,60,6],[78,15,60,13,"error"],[78,20,60,23],[78,22,60,25],[79,8,61,6],[79,14,61,12],[79,18,61,16,"Error"],[79,23,61,21],[79,24,61,22,"error"],[79,29,61,27],[79,30,61,28,"response"],[79,38,61,36],[79,40,61,38,"data"],[79,44,61,42],[79,46,61,44,"detail"],[79,52,61,50],[79,56,61,54],[79,77,61,75],[79,78,61,76],[80,6,62,4],[81,4,63,2],[81,5,63,3],[82,4,65,2],[82,10,65,8,"logout"],[82,16,65,14],[82,19,65,17],[82,25,65,17,"logout"],[82,26,65,17],[82,31,65,29],[83,6,66,4],[83,12,66,10,"AsyncStorage"],[83,24,66,22],[83,25,66,22,"default"],[83,32,66,22],[83,33,66,23,"removeItem"],[83,43,66,33],[83,44,66,34],[83,51,66,41],[83,52,66,42],[84,6,67,4],[84,12,67,10,"AsyncStorage"],[84,24,67,22],[84,25,67,22,"default"],[84,32,67,22],[84,33,67,23,"removeItem"],[84,43,67,33],[84,44,67,34],[84,50,67,40],[84,51,67,41],[85,6,68,4,"setUser"],[85,13,68,11],[85,14,68,12],[85,18,68,16],[85,19,68,17],[86,4,69,2],[86,5,69,3],[87,4,71,2],[87,24,72,4],[87,28,72,4,"_reactJsxDevRuntime"],[87,47,72,4],[87,48,72,4,"jsxDEV"],[87,54,72,4],[87,56,72,5,"AuthContext"],[87,67,72,16],[87,68,72,17,"Provider"],[87,76,72,25],[88,6,72,26,"value"],[88,11,72,31],[88,13,72,33],[89,8,72,35,"user"],[89,12,72,39],[90,8,72,41,"loading"],[90,15,72,48],[91,8,72,50,"login"],[91,13,72,55],[92,8,72,57,"register"],[92,16,72,65],[93,8,72,67,"logout"],[94,6,72,74],[94,7,72,76],[95,6,72,76,"children"],[95,14,72,76],[95,16,73,7,"children"],[96,4,73,15],[97,6,73,15,"fileName"],[97,14,73,15],[97,16,73,15,"_jsxFileName"],[97,28,73,15],[98,6,73,15,"lineNumber"],[98,16,73,15],[99,6,73,15,"columnNumber"],[99,18,73,15],[100,4,73,15],[100,11,74,26],[100,12,74,27],[101,2,76,0],[101,3,76,1],[102,2,78,7],[102,8,78,13,"useAuth"],[102,15,78,20],[102,18,78,23,"useAuth"],[102,19,78,23],[102,24,78,29],[103,4,79,2],[103,10,79,8,"context"],[103,17,79,15],[103,20,79,18],[103,24,79,18,"useContext"],[103,30,79,28],[103,31,79,28,"useContext"],[103,41,79,28],[103,43,79,29,"AuthContext"],[103,54,79,40],[103,55,79,41],[104,4,80,2],[104,8,80,6,"context"],[104,15,80,13],[104,20,80,18,"undefined"],[104,29,80,27],[104,31,80,29],[105,6,81,4],[105,12,81,10],[105,16,81,14,"Error"],[105,21,81,19],[105,22,81,20],[105,67,81,65],[105,68,81,66],[106,4,82,2],[107,4,83,2],[107,11,83,9,"context"],[107,18,83,16],[108,2,84,0],[108,3,84,1],[109,0,84,2],[109,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuth","login","register","logout","useAuth"],"mappings":"AAA;qECe;YCI;GDE;oBEE;GFa;gBGE;GHW;mBIE;GJW;iBKE;GLI;CDO;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}